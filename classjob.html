<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ReCodEx - Worker: job Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ReCodEx - Worker
   </div>
   <div id="projectbrief">ReCodEx is complex programmer testing solution, primary targeted to technical universities. It&#39;s highly customizable and based on modern technologies.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classjob.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classjob-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">job Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="job_8h_source.html">job.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1d90af6cf9227733c93da53668c9cc3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjob.html#a1d90af6cf9227733c93da53668c9cc3f">job</a> (std::shared_ptr&lt; <a class="el" href="classjob__metadata.html">job_metadata</a> &gt; job_meta, std::shared_ptr&lt; <a class="el" href="classworker__config.html">worker_config</a> &gt; worker_conf, fs::path working_directory, fs::path source_path, fs::path result_path, std::shared_ptr&lt; <a class="el" href="classtask__factory__interface.html">task_factory_interface</a> &gt; factory, std::shared_ptr&lt; <a class="el" href="classprogress__callback__interface.html">progress_callback_interface</a> &gt; progr_callback)</td></tr>
<tr class="separator:a1d90af6cf9227733c93da53668c9cc3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d736078ab717304757ed7368b257da3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjob.html#a9d736078ab717304757ed7368b257da3">~job</a> ()</td></tr>
<tr class="separator:a9d736078ab717304757ed7368b257da3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0769f62cc7f246aa09f95d59d55fdb93"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair&lt; std::string, std::shared_ptr&lt; <a class="el" href="structtask__results.html">task_results</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjob.html#a0769f62cc7f246aa09f95d59d55fdb93">run</a> ()</td></tr>
<tr class="separator:a0769f62cc7f246aa09f95d59d55fdb93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26cf5bdbb926ac17378f1ef9dc8b7e5e"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; std::shared_ptr&lt; <a class="el" href="classtask__base.html">task_base</a> &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjob.html#a26cf5bdbb926ac17378f1ef9dc8b7e5e">get_task_queue</a> () const</td></tr>
<tr class="separator:a26cf5bdbb926ac17378f1ef9dc8b7e5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Job is unit which is received from broker and should be evaluated. Job is built from configuration in which all information should be provided. Job building results in task tree and task queue in which task should be evaluated. </p><dl class="section note"><dt>Note</dt><dd>During construction <a class="el" href="classjob__metadata.html">job_metadata</a> structure is given. This structure is editable and there is posibility it can be changed by whoever constructed a job class. In actual ReCodEx worker this situation can never happen. But be aware of this and keep it in mind in other coding. Also do not change <a class="el" href="classjob__metadata.html">job_metadata</a> or <a class="el" href="classtask__metadata.html">task_metadata</a> structure between construction of tasks and its execution. If you do it, you should watch your back, devil will be always very close! </dd></dl>

<p>Definition at line <a class="el" href="job_8h_source.html#l00035">35</a> of file <a class="el" href="job_8h_source.html">job.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1d90af6cf9227733c93da53668c9cc3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d90af6cf9227733c93da53668c9cc3f">&sect;&nbsp;</a></span>job()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">job::job </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classjob__metadata.html">job_metadata</a> &gt;&#160;</td>
          <td class="paramname"><em>job_meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classworker__config.html">worker_config</a> &gt;&#160;</td>
          <td class="paramname"><em>worker_conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fs::path&#160;</td>
          <td class="paramname"><em>working_directory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fs::path&#160;</td>
          <td class="paramname"><em>source_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fs::path&#160;</td>
          <td class="paramname"><em>result_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classtask__factory__interface.html">task_factory_interface</a> &gt;&#160;</td>
          <td class="paramname"><em>factory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classprogress__callback__interface.html">progress_callback_interface</a> &gt;&#160;</td>
          <td class="paramname"><em>progr_callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Only way to construct a job. All variables are needed to proper function. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">job_meta</td><td></td></tr>
    <tr><td class="paramname">worker_conf</td><td></td></tr>
    <tr><td class="paramname">working_directory</td><td>Directory for temporary saving of files by tasks. Example use case is storing isolate's meta log file. </td></tr>
    <tr><td class="paramname">source_path</td><td>path to source codes of submission </td></tr>
    <tr><td class="paramname">result_path</td><td>path to directory containing all results </td></tr>
    <tr><td class="paramname">factory</td><td>used in creation of task objects </td></tr>
    <tr><td class="paramname">progr_callback</td><td>used to notify the broker of progress </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classjob__exception.html">job_exception</a></td><td>if there is problem during loading of configuration </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="job_8cpp_source.html#l00004">4</a> of file <a class="el" href="job_8cpp_source.html">job.cpp</a>.</p>

</div>
</div>
<a id="a9d736078ab717304757ed7368b257da3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d736078ab717304757ed7368b257da3">&sect;&nbsp;</a></span>~job()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">job::~job </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Job cleanup (if needed) is executed. </p>

<p>Definition at line <a class="el" href="job_8cpp_source.html#l00039">39</a> of file <a class="el" href="job_8cpp_source.html">job.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a26cf5bdbb926ac17378f1ef9dc8b7e5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26cf5bdbb926ac17378f1ef9dc8b7e5e">&sect;&nbsp;</a></span>get_task_queue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; std::shared_ptr&lt; <a class="el" href="classtask__base.html">task_base</a> &gt; &gt; &amp; job::get_task_queue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a collection that contains linearly ordered tasks contained in the job </p><dl class="section return"><dt>Returns</dt><dd>a linearly ordered collection of tasks </dd></dl>

<p>Definition at line <a class="el" href="job_8cpp_source.html#l00393">393</a> of file <a class="el" href="job_8cpp_source.html">job.cpp</a>.</p>

</div>
</div>
<a id="a0769f62cc7f246aa09f95d59d55fdb93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0769f62cc7f246aa09f95d59d55fdb93">&sect;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::pair&lt; std::string, std::shared_ptr&lt; <a class="el" href="structtask__results.html">task_results</a> &gt; &gt; &gt; job::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Runs all task which are sorted in task queue and get results from all of them. Should not throw an exception. </p><dl class="section return"><dt>Returns</dt><dd>Vector with pairs task id - <a class="el" href="structtask__results.html">task_results</a>. Values are not <em>nullptr</em>. </dd></dl>

<p>Definition at line <a class="el" href="job_8cpp_source.html#l00279">279</a> of file <a class="el" href="job_8cpp_source.html">job.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/job/<a class="el" href="job_8h_source.html">job.h</a></li>
<li>src/job/<a class="el" href="job_8cpp_source.html">job.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classjob.html">job</a></li>
    <li class="footer">Generated on Sat Nov 19 2016 15:09:25 for ReCodEx - Worker by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
