<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ReCodEx - Worker: http_manager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ReCodEx - Worker
   </div>
   <div id="projectbrief">ReCodEx is complex programmer testing solution, primary targeted to technical universities. It&#39;s highly customizable and based on modern technologies.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classhttp__manager.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classhttp__manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">http_manager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="http__manager_8h_source.html">http_manager.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for http_manager:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="classhttp__manager.png" usemap="#http_5Fmanager_map" alt=""/>
  <map id="http_5Fmanager_map" name="http_manager_map">
<area href="classfile__manager__interface.html" alt="file_manager_interface" shape="rect" coords="0,0,142,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae5e43e3b5c65ecea5c06f0ffbad13f09"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhttp__manager.html#ae5e43e3b5c65ecea5c06f0ffbad13f09">http_manager</a> (std::shared_ptr&lt; spdlog::logger &gt; logger=nullptr)</td></tr>
<tr class="separator:ae5e43e3b5c65ecea5c06f0ffbad13f09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c0347951a7d56548cf40856a1f38a4a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhttp__manager.html#a0c0347951a7d56548cf40856a1f38a4a">http_manager</a> (const std::vector&lt; <a class="el" href="structfileman__config.html">fileman_config</a> &gt; &amp;configs, std::shared_ptr&lt; spdlog::logger &gt; logger=nullptr)</td></tr>
<tr class="separator:a0c0347951a7d56548cf40856a1f38a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a487074895c7735b508b605ab469f10d1"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhttp__manager.html#a487074895c7735b508b605ab469f10d1">~http_manager</a> ()</td></tr>
<tr class="separator:a487074895c7735b508b605ab469f10d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f8c2026c090f733c60c577f9320bf0f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhttp__manager.html#a3f8c2026c090f733c60c577f9320bf0f">get_file</a> (const std::string &amp;src_name, const std::string &amp;dst_name)</td></tr>
<tr class="separator:a3f8c2026c090f733c60c577f9320bf0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac819b7f3a1c37f93ae1d4b52def2cdfc"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhttp__manager.html#ac819b7f3a1c37f93ae1d4b52def2cdfc">put_file</a> (const std::string &amp;src_name, const std::string &amp;dst_url)</td></tr>
<tr class="separator:ac819b7f3a1c37f93ae1d4b52def2cdfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfile__manager__interface"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfile__manager__interface')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfile__manager__interface.html">file_manager_interface</a></td></tr>
<tr class="memitem:a4dd613e846c0e0102b4ca335b4447098 inherit pub_methods_classfile__manager__interface"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfile__manager__interface.html#a4dd613e846c0e0102b4ca335b4447098">~file_manager_interface</a> ()</td></tr>
<tr class="separator:a4dd613e846c0e0102b4ca335b4447098 inherit pub_methods_classfile__manager__interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aebdafb17a288841336012010388493e3"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfileman__config.html">fileman_config</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhttp__manager.html#aebdafb17a288841336012010388493e3">find_config</a> (const std::string &amp;url) const</td></tr>
<tr class="separator:aebdafb17a288841336012010388493e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class for managing transfers over HTTP connection. This class is using libcurl as it's backend, so this pretty much defines the abilities. We are supporting SSL connections with peer and host verification and HTTP/2 protocol with fallback to 1.1 version. Also, HTTP authentication is used when right configs are provided. HTTP status codes above 400 are interpreted as strict error. Failed operations throws <a class="el" href="classfm__exception.html">fm_exception</a> exception. </p>

<p>Definition at line <a class="el" href="http__manager_8h_source.html#l00020">20</a> of file <a class="el" href="http__manager_8h_source.html">http_manager.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae5e43e3b5c65ecea5c06f0ffbad13f09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5e43e3b5c65ecea5c06f0ffbad13f09">&sect;&nbsp;</a></span>http_manager() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">http_manager::http_manager </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; spdlog::logger &gt;&#160;</td>
          <td class="paramname"><em>logger</em> = <code>nullptr</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Default constructor, optionally can set a system logger. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logger</td><td>Shared pointer to system logger (optional). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="http__manager_8cpp_source.html#l00045">45</a> of file <a class="el" href="http__manager_8cpp_source.html">http_manager.cpp</a>.</p>

</div>
</div>
<a id="a0c0347951a7d56548cf40856a1f38a4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c0347951a7d56548cf40856a1f38a4a">&sect;&nbsp;</a></span>http_manager() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">http_manager::http_manager </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structfileman__config.html">fileman_config</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>configs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; spdlog::logger &gt;&#160;</td>
          <td class="paramname"><em>logger</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor with initialization. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">configs</td><td>File server configurations </td></tr>
    <tr><td class="paramname">logger</td><td>Shared pointer to system logger (optional). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="http__manager_8cpp_source.html#l00049">49</a> of file <a class="el" href="http__manager_8cpp_source.html">http_manager.cpp</a>.</p>

</div>
</div>
<a id="a487074895c7735b508b605ab469f10d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a487074895c7735b508b605ab469f10d1">&sect;&nbsp;</a></span>~http_manager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual http_manager::~http_manager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor. </p>

<p>Definition at line <a class="el" href="http__manager_8h_source.html#l00037">37</a> of file <a class="el" href="http__manager_8h_source.html">http_manager.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aebdafb17a288841336012010388493e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebdafb17a288841336012010388493e3">&sect;&nbsp;</a></span>find_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structfileman__config.html">fileman_config</a> * http_manager::find_config </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Finds the configuration for a file server that matches given URL The pointer returned by this method is valid as long as this object exists </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The URL used to determine the file server </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the configuration, or a nullptr when nothing is found </dd></dl>

<p>Definition at line <a class="el" href="http__manager_8cpp_source.html#l00217">217</a> of file <a class="el" href="http__manager_8cpp_source.html">http_manager.cpp</a>.</p>

</div>
</div>
<a id="a3f8c2026c090f733c60c577f9320bf0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f8c2026c090f733c60c577f9320bf0f">&sect;&nbsp;</a></span>get_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void http_manager::get_file </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>src_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>dst_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get and save file locally. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src_name</td><td>Name of requested file (without path) </td></tr>
    <tr><td class="paramname">dst_name</td><td>Path to the directory with name of the created file - the file can be renamed during fetching. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classfile__manager__interface.html#a0b1ca17585efd3f51b0c08a18bb8f6e4">file_manager_interface</a>.</p>

<p>Definition at line <a class="el" href="http__manager_8cpp_source.html#l00057">57</a> of file <a class="el" href="http__manager_8cpp_source.html">http_manager.cpp</a>.</p>

</div>
</div>
<a id="ac819b7f3a1c37f93ae1d4b52def2cdfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac819b7f3a1c37f93ae1d4b52def2cdfc">&sect;&nbsp;</a></span>put_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void http_manager::put_file </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>src_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>dst_url</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Upload file to remote server with HTTP PUT method. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src_name</td><td>Name with path to a file to upload. </td></tr>
    <tr><td class="paramname">dst_url</td><td>Url where the file will be uploaded. If this is with or without file name depends on your HTTP server configuration. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classfile__manager__interface.html#a666d30e2e9a433ae7d7851c82fd4e74a">file_manager_interface</a>.</p>

<p>Definition at line <a class="el" href="http__manager_8cpp_source.html#l00133">133</a> of file <a class="el" href="http__manager_8cpp_source.html">http_manager.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/fileman/<a class="el" href="http__manager_8h_source.html">http_manager.h</a></li>
<li>src/fileman/<a class="el" href="http__manager_8cpp_source.html">http_manager.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classhttp__manager.html">http_manager</a></li>
    <li class="footer">Generated on Sat Nov 19 2016 15:09:25 for ReCodEx - Worker by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
